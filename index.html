<!DOCTYPE html>
<html lang="ml">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>‡¥¨‡µÇ‡¥§‡µç‡¥§‡µç ‡¥µ‡µÜ‡¥∞‡¥ø‡¥´‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥∑‡µª ‡¥´‡µã‡¥±‡¥Ç</title>
   <script src="https://cdn.tailwindcss.com"></script>
   <style>
       @import url('https://fonts.googleapis.com/css2?family=Manjari:wght@400;700&display=swap');
       body {
           font-family: 'Manjari', sans-serif;
           background-color: #f8fafc;
       }
       .loader {
           border: 3px solid #f3f3f3;
           border-top: 3px solid #059669;
           border-radius: 50%;
           width: 18px;
           height: 18px;
           animation: spin 1s linear infinite;
           display: inline-block;
           vertical-align: middle;
           margin-right: 8px;
       }
       @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      
       /* ‡¥∏‡µÜ‡¥ï‡µç‡¥∑‡µª ‡¥π‡µÜ‡¥°‡¥ø‡¥Ç‡¥ó‡¥ø‡¥®‡µÅ‡¥≥‡µç‡¥≥ ‡¥∏‡µç‡¥±‡µç‡¥±‡µà‡µΩ */
       .main-section-title {
           font-size: 1.125rem;
           font-weight: 700;
           color: #065f46;
           margin-bottom: 0.5rem;
           display: flex;
           align-items: center;
           gap: 0.5rem;
       }


       .section-separator {
           height: 2px;
           background: linear-gradient(to right, #10b981, transparent);
           margin-bottom: 1.5rem;
           border-radius: 2px;
       }


       .input-group-container {
           background-color: #ffffff;
           padding: 1.5rem;
           border-radius: 1rem;
           border: 1px solid #e2e8f0;
           margin-bottom: 2.5rem;
           box-shadow: 0 1px 3px rgba(0,0,0,0.05);
       }
   </style>
</head>
<body class="min-h-screen py-10 px-4">


   <div class="max-w-3xl mx-auto bg-white rounded-[2rem] shadow-2xl overflow-hidden border border-slate-200">
       <!-- Main Header -->
       <div class="bg-gradient-to-br from-emerald-600 to-teal-800 p-8 text-white text-center">
           <h1 class="text-3xl font-bold mb-2">‡¥¨‡µÇ‡¥§‡µç‡¥§‡µç ‡¥µ‡µÜ‡¥∞‡¥ø‡¥´‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥∑‡µª ‡¥´‡µã‡¥±‡¥Ç</h1>
           <p class="text-emerald-100 opacity-90 text-sm">‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡µæ ‡¥ï‡µÉ‡¥§‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥∞‡µá‡¥ñ‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡¥ø ‡¥ó‡µÇ‡¥ó‡¥ø‡µæ ‡¥∑‡µÄ‡¥±‡µç‡¥±‡¥ø‡¥≤‡µá‡¥ï‡µç‡¥ï‡µç ‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï.</p>
       </div>


       <form id="verificationForm" class="p-6 md:p-10">
           <!-- Messages -->
           <div id="successMsg" class="hidden mb-8 bg-emerald-50 border border-emerald-200 text-emerald-700 p-4 rounded-xl flex items-center gap-3">
               <span class="text-xl">‚úÖ</span>
               <p class="font-medium">‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡µæ ‡¥µ‡¥ø‡¥ú‡¥Ø‡¥ï‡¥∞‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥∑‡µÄ‡¥±‡µç‡¥±‡¥ø‡µΩ ‡¥∞‡µá‡¥ñ‡¥™‡µç‡¥™‡µÜ‡¥ü‡µÅ‡¥§‡µç‡¥§‡¥ø!</p>
           </div>
           <div id="errorMsg" class="hidden mb-8 bg-rose-50 border border-rose-200 text-rose-700 p-4 rounded-xl flex items-center gap-3">
               <span class="text-xl">‚ö†Ô∏è</span>
               <p id="errorText" class="font-medium">‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡¥ø‡µΩ ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥â‡¥£‡µç‡¥ü‡¥æ‡¥Ø‡¥ø.</p>
           </div>


           <!-- Section 1: Location -->
           <div class="main-section-title">
               <span>üìç</span> ‡¥∏‡µç‡¥•‡¥≤ ‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡µæ
           </div>
           <div class="section-separator"></div>
          
           <div class="input-group-container">
               <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                   <div class="space-y-1.5">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥∏‡¥Ç‡¥ò‡¥ü‡¥®‡¥æ ‡¥ú‡¥ø‡¥≤‡µç‡¥≤ *</label>
                       <select id="orgDistrict" required class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 transition-colors"></select>
                   </div>
                   <div class="space-y-1.5">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥®‡¥ø‡¥Ø‡µã‡¥ú‡¥ï ‡¥Æ‡¥£‡µç‡¥°‡¥≤‡¥Ç *</label>
                       <select id="acName" required disabled class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 disabled:opacity-50 transition-colors"></select>
                   </div>
                   <div class="space-y-1.5 md:col-span-2">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥∏‡¥Ç‡¥ò‡¥ü‡¥®‡¥æ ‡¥Æ‡¥£‡µç‡¥°‡¥≤‡¥Ç *</label>
                       <select id="orgMandal" required disabled class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 disabled:opacity-50 transition-colors"></select>
                   </div>
               </div>
           </div>


           <!-- Section 2: Personnel -->
           <div class="main-section-title">
               <span>üë§</span> ‡¥ö‡µÅ‡¥Æ‡¥§‡¥≤‡¥Ø‡µÅ‡¥≥‡µç‡¥≥‡¥µ‡µº
           </div>
           <div class="section-separator"></div>


           <div class="input-group-container">
               <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                   <div class="space-y-1.5">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥Æ‡¥£‡µç‡¥°‡¥≤‡¥Ç ‡¥™‡µç‡¥∞‡¥∏‡¥ø‡¥°‡¥®‡µç‡¥±‡µç *</label>
                       <input type="text" id="mandalPresident" placeholder="‡¥™‡µá‡¥∞‡µç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï" required class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 transition-colors">
                   </div>
                   <div class="space-y-1.5">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥Æ‡¥£‡µç‡¥°‡¥≤‡¥Ç ‡¥™‡µç‡¥∞‡¥≠‡¥æ‡¥∞‡¥ø *</label>
                       <input type="text" id="mandalPrabhari" placeholder="‡¥™‡µá‡¥∞‡µç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï" required class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 transition-colors">
                   </div>
                   <div class="space-y-1.5">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥∂‡¥ï‡µç‡¥§‡¥ø‡¥ï‡µá‡¥®‡µç‡¥¶‡µç‡¥∞ ‡¥á‡µª‡¥ö‡¥æ‡µº‡¥ú‡µç *</label>
                       <input type="text" id="shaktiKendraIncharge" placeholder="‡¥™‡µá‡¥∞‡µç ‡¥®‡µΩ‡¥ï‡µÅ‡¥ï" required class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 transition-colors">
                   </div>
                   <div class="space-y-1.5">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥Æ‡µä‡¥¨‡µà‡µΩ ‡¥®‡¥Æ‡µç‡¥™‡µº *</label>
                       <input type="tel" id="phoneNumber" placeholder="10 ‡¥Ö‡¥ï‡µç‡¥ï ‡¥®‡¥Æ‡µç‡¥™‡µº" required pattern="[0-9]{10}" class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 transition-colors">
                   </div>
                   <div class="space-y-1.5 md:col-span-2">
                       <label class="text-sm font-bold text-slate-600 ml-1">‡¥∏‡¥Ç‡¥ò‡¥ü‡¥®‡¥æ ‡¥ö‡µÅ‡¥Æ‡¥§‡¥≤ *</label>
                       <input type="text" id="position" placeholder="‡¥®‡¥ø‡¥≤‡¥µ‡¥ø‡¥≤‡µÜ ‡¥ö‡µÅ‡¥Æ‡¥§‡¥≤" required class="w-full rounded-xl border-slate-200 bg-slate-50 p-3.5 border-2 outline-none focus:border-emerald-500 transition-colors">
                   </div>
               </div>
           </div>


           <!-- Section 3: Booth Details -->
           <div class="main-section-title">
               <span>üìë</span> ‡¥¨‡µÇ‡¥§‡µç‡¥§‡µç ‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡µæ
           </div>
           <div class="section-separator"></div>


           <div class="input-group-container">
               <div class="bg-emerald-50 p-5 rounded-xl border border-emerald-100 mb-6">
                   <label class="block mb-2 font-bold text-emerald-800">‡¥∂‡¥ï‡µç‡¥§‡¥ø ‡¥ï‡µá‡¥®‡µç‡¥¶‡µç‡¥∞‡¥Ø‡¥ø‡¥≤‡µÜ ‡¥Ü‡¥ï‡µÜ ‡¥¨‡µÇ‡¥§‡µç‡¥§‡µÅ‡¥ï‡µæ *</label>
                   <select id="noOfBooths" required class="w-full md:w-56 rounded-xl border-emerald-200 bg-white shadow-sm p-3 border-2 outline-none focus:border-emerald-500">
                       <option value="0">‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï</option>
                       <option value="1">1</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5</option>
                   </select>
               </div>
              
               <!-- Dynamic Booths Container -->
               <div id="boothContainer" class="space-y-6"></div>
           </div>


           <div class="pt-4">
               <button type="submit" id="submitBtn" class="w-full py-4.5 rounded-2xl text-white font-bold text-xl bg-emerald-600 hover:bg-emerald-700 shadow-xl hover:shadow-emerald-200 transition-all flex items-center justify-center gap-2 transform active:scale-[0.98]">
                   <span>‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï</span>
               </button>
           </div>
       </form>


       <div class="bg-slate-50 p-5 border-t border-slate-100 text-center text-slate-400 text-xs">
           ‡¥¨‡µÇ‡¥§‡µç‡¥§‡µç ‡¥µ‡µÜ‡¥∞‡¥ø‡¥´‡¥ø‡¥ï‡µç‡¥ï‡µá‡¥∑‡µª ‡¥∏‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡¥Ç &copy; 2026 | Digital Verification Cell
       </div>
   </div>


   <script>
       const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyKZrMapAvHk31CsA9T16CcULjxyfSYmChd7hK5iEpz1zJeJx2dKT1lugSt8R8f822dTw/exec";


       const DATA = {
           "districts": ["Alappuzha North", "Alappuzha South", "Ernakulam City", "Ernakulam East", "Ernakulam North", "Idukki North", "Idukki South", "Kannur North", "Kannur South", "Kasaragod", "Kollam East", "Kollam West", "Kottayam East", "Kottayam West", "Kozhikode City", "Kozhikode North", "Kozhikode Rural", "Malappuram Central", "Malappuram East", "Malappuram West", "Palakkad East", "Palakkad West", "Pathanamthitta", "Thiruvananthapuram City", "Thiruvananthapuram North", "Thiruvananthapuram South", "Thrissur City", "Thrissur North", "Thrissur South", "Wayanad"],
           "acs": {
               "Thiruvananthapuram South": ["Aruvikkara", "Kattakada", "Kovalam", "Neyyattinkara", "Parasala"],
               "Thiruvananthapuram City": ["Kazhakkoottam", "Nemom", "Thiruvananthapuram", "Vattiyoorkavu"],
               "Thiruvananthapuram North": ["Attingal", "Chirayankeezhu", "Nedumangad", "Vamanapuram", "Varkala"],
               "Kollam West": ["Chathannoor", "Chavara", "Eravipuram", "Karunagapally", "Kollam", "Kundara"],
               "Kollam East": ["Chadayamangalam", "Kottarakkara", "Kunnathur", "Pathanapuram", "Punaloor"],
               "Pathanamthitta": ["Adoor", "Aranmula", "Konni", "Ranni", "Thiruvalla"],
               "Alappuzha South": ["Chengannur", "Haripad", "Kayamkulam", "Mavelikkara"],
               "Alappuzha North": ["Alappuzha", "Ambalapuzha", "Aroor", "Cherthala", "Kuttanad"],
               "Kottayam West": ["Ettumanoor", "Kadathuruthy", "Kottayam", "Pala", "Vaikom"],
               "Kottayam East": ["Changanassery", "Kanjirappally", "Poonjar", "Puthuppally"],
               "Idukki South": ["Idukki", "Peerumade", "Udumbanchola"],
               "Idukki North": ["Devikulam", "Thodupuzha"],
               "Ernakulam City": ["Ernakulam", "Kochi", "Thrikkakara", "Thripunithura", "Vypen"],
               "Ernakulam North": ["Aluva", "Angamaly", "Kalamassery", "Paravur", "Perumbavoor"],
               "Ernakulam East": ["Kothamangalam", "Kunnathunad", "Muvattupuzha", "Piravom"],
               "Thrissur South": ["Chalakkudy", "Irinjalakuda", "Kaipamangalam", "Kodungallur"],
               "Thrissur City": ["Manalur", "Nattika", "Ollur", "Puthukkad", "Thrissur"],
               "Thrissur North": ["Chelakkara", "Guruvayoor", "Kunnamkulam", "Wadakkanchery"],
               "Palakkad West": ["Mannarkad", "Ottapalam", "Pattambi", "Shornur", "Tarur", "Thrithala"],
               "Palakkad East": ["Alathur", "Chittur", "Kongad", "Malampuzha", "Nenmara", "Palakkad"],
               "Malappuram West": ["Ponnani", "Tanur", "Thavanur", "Tirur", "Tirurangadi", "Vallikkunnu"],
               "Malappuram Central": ["Kondotty", "Kottakkal", "Malappuram", "Mankada", "Vengara"],
               "Malappuram East": ["Ernaad", "Manjeri", "Nilambur", "Perinthalmanna", "Wandoor"],
               "Kozhikode Rural": ["Balussery", "Elathur", "Koduvally", "Thiruvambady"],
               "Kozhikode City": ["Beypore", "Kozhikode North", "Kozhikode South", "Kunnamangalam"],
               "Kozhikode North": ["Koyilandy", "Kuttiady", "Nadapuram", "Perambra", "Vatakara"],
               "Wayanad": ["Kalpetta", "Mananthawady", "Sulthan Bathery"],
               "Kannur South": ["Dharmadam", "Kuthuparamba", "Mattannur", "Peravoor", "Thalassery"],
               "Kannur North": ["Azhikode", "Irikkur", "Kalliassery", "Kannur", "Payyannaur", "Taliparamba"],
               "Kasaragod": ["Kanhangad", "Kasargod", "Manjeshwaram", "Thrikaripur", "Udma"]
           },
           "mandals": {
               "Parasala": ["Parassala", "Vellarada"],
               "Neyyattinkara": ["Kulathoor", "Neyyattinkara"],
               "Kovalam": ["Balaramapuram", "Kovalam"],
               "Kattakada": ["Kattakkada", "Malayinkeezhu"],
               "Aruvikkara": ["Aruvikkara", "Aryanadu"],
               "Kazhakkoottam": ["Kazhakkoottam", "Ulloor"],
               "Vattiyoorkavu": ["Pattom", "Vattiyoorkavu"],
               "Thiruvananthapuram": ["Thiruvananthapuram Central", "Thiruvananthapuram West"],
               "Nemom": ["Attukal", "Nemom"],
               "Vamanapuram": ["Palode", "Vamanapuram"],
               "Nedumangad": ["Nedumangad", "Pothencode"],
               "Chirayankeezhu": ["Chirayinkeezhu", "Kadakkavoor"],
               "Attingal": ["Attingal", "Kilimanoor"],
               "Varkala": ["Navaikulam", "Varkala"],
               "Karunagapally": ["Karunagappally", "Oachira"],
               "Chathannoor": ["Chathannoor", "Paravoor"],
               "Kollam": ["Kollam", "Thrikkadavoor"],
               "Kundara": ["Kundara", "Mukhathala"],
               "Chavara": ["Chavara", "Panmana"],
               "Eravipuram": ["Eravipuram", "Kilikolloor"],
               "Kunnathur": ["Kunnathur", "Sasthamcotta"],
               "Kottarakkara": ["Kottarakkara", "Neduvathur"],
               "Pathanapuram": ["Kunnikkodu", "Pathanapuram"],
               "Punaloor": ["Anchal", "Punalur"],
               "Chadayamangalam": ["Chadayamangalam", "Chithara"],
               "Thiruvalla": ["Mallappally", "Thiruvalla"],
               "Ranni": ["Ayiroor", "Ranni"],
               "Aranmula": ["Aranmula", "Pathanamthitta"],
               "Konni": ["Chittar", "Konni"],
               "Adoor": ["Adoor", "Pandalam"],
               "Chengannur": ["Chengannur", "Mannar"],
               "Haripad": ["Haripad", "Karthikappalli"],
               "Mavelikkara": ["Charummoodu", "Mavelikkara"],
               "Kayamkulam": ["Chettikulangara", "Kayamkulam"],
               "Aroor": ["Aroor", "Panavally"],
               "Cherthala": ["Cherthala", "Muhamma"],
               "Alappuzha": ["Alappuzha", "Mararikkulam"],
               "Ambalapuzha": ["Ambalappuzha", "Mullakkal"],
               "Kuttanad": ["Kuttanadu", "Thakazhy"],
               "Vaikom": ["Thalayolaparambu", "Vaikom"],
               "Kadathuruthy": ["Kaduthuruthy", "Kuravilangadu"],
               "Ettumanoor": ["Ettumanoor", "Kumarakom"],
               "Pala": ["Bharananganam", "Pala"],
               "Kottayam": ["Kottayam", "Panachikadu"],
               "Poonjar": ["Mundakkayam", "Poonjar"],
               "Puthuppally": ["Ayarkunnam", "Puthuppally"],
               "Kanjirappally": ["Kanjirappally", "Vazhoor"],
               "Changanassery": ["Changanassery", "Madappally"],
               "Idukki": ["Idukki", "Kattappana"],
               "Udumbanchola": ["Udumbanchola", "Vandanmedu"],
               "Peerumade": ["Elappara", "Peermade"],
               "Devikulam": ["Adimali", "Devikulam"],
               "Thodupuzha": ["Thodupuzha", "Vannappuram"],
               "Vypen": ["Cherayi", "Vypin"],
               "Ernakulam": ["Ernakulam North", "Ernakulam South"],
               "Kochi": ["Kochi", "Mattancherry"],
               "Thripunithura": ["Palluruthy", "Thrippunithura"],
               "Thrikkakara": ["Pallarivattom", "Thrikkakara"],
               "Paravur": ["Paravur", "Vadakkekara"],
               "Kalamassery": ["Kalamassery", "Karumalloor"],
               "Angamaly": ["Angamaly", "Kalady"],
               "Aluva": ["Aluva", "Nedumbassery"],
               "Perumbavoor": ["Kuruppampady", "Perumbavoor"],
               "Kunnathunad": ["Kolenchery", "Kunnathunadu"],
               "Piravom": ["Chottanikara", "Piravom"],
               "Muvattupuzha": ["Muvattupuzha", "Vazhakkulam"],
               "Kothamangalam": ["Kavalangad", "Kothamangalam"],
               "Kaipamangalam": ["Edavilangu", "Kaipamangalam"],
               "Chalakkudy": ["Chalakudy", "Koratty"],
               "Irinjalakuda": ["Aloor", "Irinjalakuda"],
               "Kodungallur": ["Kodungallur", "Mala"],
               "Manalur": ["Manalur", "Pavaratty"],
               "Ollur": ["Ollur", "Peechi"],
               "Nattika": ["Cherpu", "Nattika"],
               "Puthukkad": ["Amballur", "Puthukkad"],
               "Thrissur": ["Thrissur East", "Thrissur west"],
               "Guruvayoor": ["Chavakkad", "Guruvayoor"],
               "Kunnamkulam": ["Erumapetty", "Kunnamkulam"],
               "Chelakkara": ["Chelakkara", "Cheruthuruthy"],
               "Wadakkanchery": ["Kaipparambu", "Wadakkanchery"],
               "Thrithala": ["Kappur", "Thrithala"],
               "Pattambi": ["Koppam", "Pattambi"],
               "Ottapalam": ["Ottapalam", "Sreekrishnapuram"],
               "Shornur": ["Cherpulassery", "Shornur"],
               "Mannarkad": ["Attappady", "Mannarkkad"],
               "Tarur": ["Tharur", "Vadakkenchery"],
               "Kongad": ["Karimba", "Kongad"],
               "Palakkad": ["Palakkad", "Pirayiri"],
               "Malampuzha": ["Malampuzha", "Puthussery"],
               "Alathur": ["Alathur", "Vandazhi"],
               "Chittur": ["Chittoor", "Kozhinjampara"],
               "Nenmara": ["Kollengode", "Nenmara"],
               "Vallikkunnu": ["Pallikkal", "Vallikkunnu"],
               "Tirur": ["Thirunavaya", "Tirur"],
               "Tanur": ["Ponmundam", "Tanur"],
               "Tirurangadi": ["Edarikkodu", "Tirurangadi"],
               "Thavanur": ["Thavanur", "Thrippangodu"],
               "Ponnani": ["Changaramkulam", "Ponnani"],
               "Kondotty": ["Kondotty", "Vazhakkad"],
               "Malappuram": ["Malappuram", "Pookkottur"],
               "Kottakkal": ["Kottakkal", "Kuttippuram"],
               "Vengara": ["Parappur", "Vengara"],
               "Mankada": ["Kolathur", "Mankada"],
               "Nilambur": ["Edakkara", "Nilambur"],
               "Ernaad": ["Edavanna", "Eranad"],
               "Wandoor": ["Kalikkavu", "Wandoor"],
               "Manjeri": ["Manjeri", "Pandikkad"],
               "Perinthalmanna": ["Elamkulam", "Perinthalmanna"],
               "Balussery": ["Balussery", "Ulliyeri"],
               "Elathur": ["Chelannur", "Elathur"],
               "Koduvally": ["Koduvally", "Thamarassery"],
               "Thiruvambady": ["Mukkam", "Thiruvambady"],
               "Kunnamangalam": ["Kunnamangalam", "Olavanna"],
               "Beypore": ["Beypore", "Ramanattukara"],
               "Kozhikode North": ["Kozhikode North", "Nadakkavu"],
               "Kozhikode South": ["Kozhikode South", "Puthiyara"],
               "Nadapuram": ["Nadapuram", "Naripatta"],
               "Kuttiady": ["Kuttiady", "Villiappally"],
               "Perambra": ["Meppayur", "Perambra"],
               "Koyilandy": ["Koyilandy", "Payyoli"],
               "Vatakara": ["Onchiyam", "Vadakara"],
               "Mananthawady": ["Mananthavady", "Panamaram"],
               "Sulthan Bathery": ["Pulpally", "Sulthan Bathery"],
               "Kalpetta": ["Kalpetta", "Padinjarathara"],
               "Mattannur": ["Chittariparamba", "Mattannur"],
               "Dharmadam": ["Chakkarakkal", "Dharmadom"],
               "Thalassery": ["Kathiroor", "Thalassery"],
               "Kuthuparamba": ["Kuthuparamba", "Panoor"],
               "Peravoor": ["Iritty", "Peravoor"],
               "Kalliassery": ["Kalliassery", "Madayi"],
               "Azhikode": ["Azhikode", "Chirakkal"],
               "Payyannaur": ["Payyannur", "Peringome"],
               "Irikkur": ["Alakkode", "Irikkur"],
               "Taliparamba": ["Mayyil", "Taliparamba"],
               "Kannur": ["Edakkad", "Kannur"],
               "Kasargod": ["Badiadka", "Kasaragod"],
               "Udma": ["Muliyar", "Udma"],
               "Manjeshwaram": ["Kumbla", "Manjeshwar"],
               "Kanhangad": ["Kanhangad", "Vellarikundu"],
               "Thrikaripur": ["Nileshwaram", "Trikaripur"]
           }
       };


       const distSelect = document.getElementById('orgDistrict');
       distSelect.innerHTML = '<option value="">‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï</option>' + DATA.districts.map(d => `<option value="${d}">${d}</option>`).join('');


       distSelect.addEventListener('change', (e) => {
           const acSelect = document.getElementById('acName');
           const mandalSelect = document.getElementById('orgMandal');
           mandalSelect.disabled = true;
           mandalSelect.innerHTML = '';
          
           const selectedDist = e.target.value;
           if (selectedDist) {
               acSelect.disabled = false;
               acSelect.innerHTML = '<option value="">‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï</option>' + DATA.acs[selectedDist].map(ac => `<option value="${ac}">${ac}</option>`).join('');
           } else {
               acSelect.disabled = true;
               acSelect.innerHTML = '';
           }
       });


       document.getElementById('acName').addEventListener('change', (e) => {
           const mandalSelect = document.getElementById('orgMandal');
           const selectedAC = e.target.value;
           if (selectedAC) {
               mandalSelect.disabled = false;
               mandalSelect.innerHTML = '<option value="">‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï</option>' + DATA.mandals[selectedAC].map(m => `<option value="${m}">${m}</option>`).join('');
           } else {
               mandalSelect.disabled = true;
               mandalSelect.innerHTML = '';
           }
       });


       document.getElementById('noOfBooths').addEventListener('change', (e) => {
           const count = parseInt(e.target.value);
           const container = document.getElementById('boothContainer');
           container.innerHTML = '';
          
           for (let i = 1; i <= count; i++) {
               container.innerHTML += `
               <div class="bg-slate-50 p-6 rounded-2xl border border-slate-200 relative animate-in slide-in-from-bottom-2">
                   <div class="absolute top-0 left-6 -translate-y-1/2 bg-white px-3 py-1 rounded-full border border-slate-200 text-xs font-bold text-slate-500">‡¥¨‡µÇ‡¥§‡µç‡¥§‡µç ${i}</div>
                   <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-2">
                       <div class="space-y-1">
                           <label class="text-xs font-bold text-slate-500 ml-1">‡¥¨‡µÇ‡¥§‡µç‡¥§‡µç ‡¥®‡¥Æ‡µç‡¥™‡µº</label>
                           <input type="text" placeholder="‡¥â‡¥¶‡¥æ: 101" required class="booth-no w-full rounded-lg border-slate-200 py-2.5 px-3 border-2 outline-none focus:border-emerald-500">
                       </div>
                       <div class="space-y-1">
                           <label class="text-xs font-bold text-slate-500 ml-1">‡¥á‡µª‡¥ö‡¥æ‡µº‡¥ú‡µç ‡¥™‡µá‡¥∞‡µç</label>
                           <input type="text" placeholder="‡¥™‡µá‡¥∞‡µç" required class="booth-incharge w-full rounded-lg border-slate-200 py-2.5 px-3 border-2 outline-none focus:border-emerald-500">
                       </div>
                       <div class="space-y-1">
                           <label class="text-xs font-bold text-slate-500 ml-1">‡¥Æ‡µä‡¥¨‡µà‡µΩ</label>
                           <input type="tel" placeholder="‡¥Æ‡µä‡¥¨‡µà‡µΩ" required pattern="[0-9]{10}" class="booth-phone w-full rounded-lg border-slate-200 py-2.5 px-3 border-2 outline-none focus:border-emerald-500">
                       </div>
                   </div>
               </div>`;
           }
       });


       document.getElementById('verificationForm').addEventListener('submit', async (e) => {
           e.preventDefault();
           const submitBtn = document.getElementById('submitBtn');
           const successMsg = document.getElementById('successMsg');
           const errorMsg = document.getElementById('errorMsg');


           submitBtn.disabled = true;
           submitBtn.innerHTML = '<span class="loader"></span> ‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ...';
           successMsg.classList.add('hidden');
           errorMsg.classList.add('hidden');


           const booths = [];
           const boothDivs = document.querySelectorAll('#boothContainer > div');
           boothDivs.forEach(div => {
               booths.push({
                   boothNo: div.querySelector('.booth-no').value,
                   incharge: div.querySelector('.booth-incharge').value,
                   phone: div.querySelector('.booth-phone').value
               });
           });


           const formData = {
               orgDistrict: document.getElementById('orgDistrict').value,
               acName: document.getElementById('acName').value,
               orgMandal: document.getElementById('orgMandal').value,
               mandalPresident: document.getElementById('mandalPresident').value,
               mandalPrabhari: document.getElementById('mandalPrabhari').value,
               shaktiKendraIncharge: document.getElementById('shaktiKendraIncharge').value,
               phoneNumber: document.getElementById('phoneNumber').value,
               position: document.getElementById('position').value,
               noOfBooths: document.getElementById('noOfBooths').value,
               booths: booths
           };


           try {
               await fetch(GOOGLE_SCRIPT_URL, {
                   method: 'POST',
                   mode: 'no-cors',
                   cache: 'no-cache',
                   body: JSON.stringify(formData)
               });


               successMsg.classList.remove('hidden');
               document.getElementById('verificationForm').reset();
               document.getElementById('boothContainer').innerHTML = '';
               document.getElementById('acName').disabled = true;
               document.getElementById('orgMandal').disabled = true;
               window.scrollTo({ top: 0, behavior: 'smooth' });
           } catch (err) {
               console.error(err);
               errorMsg.classList.remove('hidden');
           } finally {
               submitBtn.disabled = false;
               submitBtn.innerHTML = '<span>‡¥∏‡¥Æ‡µº‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï</span>';
           }
       });
   </script>
</body>
</html>

